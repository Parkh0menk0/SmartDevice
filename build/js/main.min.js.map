{"version":3,"sources":["accordion.js","inputMask.js","popup.js","scroll.js"],"names":["i","accordion","document","querySelectorAll","length","addEventListener","classList","toggle","panel","nextElementSibling","style","maxHeight","scrollHeight","MATRIX","tel","querySelector","event","def","replace","val","value","a","test","charAt","type","pos","elem","focus","setSelectionRange","createTextRange","range","collapse","moveEnd","moveStart","select","setCursorPosition","ESC_KEYCODE","link","popup","overlay","close","form","userName","message","isStorageSupport","storage","name","onEscPress","evt","keyCode","closeModal","reset","remove","removeEventListener","localStorage","getItem","err","preventDefault","add","setItem","contains","btnScrollDown","window","location","href"],"mappings":"AAAA,cAEA,WAEE,IACIA,EADAC,EAAYC,SAASC,iBAAiB,cAG1C,GAAIF,EACF,IAAKD,EAAI,EAAGA,EAAIC,EAAUG,OAAQJ,IAChCC,EAAUD,GAAGK,iBAAiB,QAAS,WACrCJ,EAAUD,GAAGM,UAAUC,OAAO,UAC9B,IAAIC,EAAQP,EAAUD,GAAGS,mBACrBD,EAAME,MAAMC,UACdH,EAAME,MAAMC,UAAY,KAExBH,EAAME,MAAMC,UAAYH,EAAMI,aAAe,OAbvD,GCAA,WAEE,IAAIC,EAAS,oBAETC,EAAMZ,SAASa,cAAc,QAkD7BD,GACFA,EAAIT,iBAAiB,QA5CvB,SAAcW,GACZ,IAAIhB,EAAI,EACJiB,EAAMJ,EAAOK,QAAQ,MAAO,IAC5BC,EAAML,EAAIM,MAAMF,QAAQ,MAAO,IAE/BD,EAAIb,QAAUe,EAAIf,SACpBe,EAAMF,GAERH,EAAIM,MAAQP,EAAOK,QAAQ,KAAM,SAAUG,GACzC,MAAI,QAAQC,KAAKD,IAAMrB,EAAImB,EAAIf,OACtBe,EAAII,OAAOvB,KAEXA,GAAKmB,EAAIf,OAAS,GAAKiB,IAGf,SAAfL,EAAMQ,KACiB,IAArBV,EAAIM,MAAMhB,SACZU,EAAIM,MAAQ,IAalB,SAA2BK,EAAKC,GAE9B,GADAA,EAAKC,QACDD,EAAKE,kBACPF,EAAKE,kBAAkBH,EAAKA,QACvB,GAAIC,EAAKG,gBAAiB,CAC/B,IAAIC,EAAQJ,EAAKG,kBACjBC,EAAMC,UAAS,GACfD,EAAME,QAAQ,YAAaP,GAC3BK,EAAMG,UAAU,YAAaR,GAC7BK,EAAMI,UAnBNC,CAAkBrB,EAAIM,MAAMhB,OAAQU,KAwBF,GAvDxC,GCAA,WACE,IAAIsB,EAAc,GAEdC,EAAOnC,SAASa,cAAc,gCAE9BuB,EAAQpC,SAASa,cAAc,UAC/BwB,EAAUrC,SAASa,cAAc,kBACjCyB,EAAQF,EAAMvB,cAAc,iBAE5B0B,EAAOH,EAAMvB,cAAc,QAC3B2B,EAAWJ,EAAMvB,cAAc,eAC/BD,EAAMwB,EAAMvB,cAAc,cAC1B4B,EAAUL,EAAMvB,cAAc,mBAE9B6B,GAAmB,EACnBC,EAAU,CACZC,KAAM,GACNhC,IAAK,GACL6B,QAAS,IAQX,SAASI,EAAWC,GACdA,EAAIC,UAAYb,GAClBc,IAuCJ,SAASA,IACPT,EAAKU,QACLb,EAAMhC,UAAU8C,OAAO,cACvBb,EAAQjC,UAAU8C,OAAO,cACzBlD,SAASmD,oBAAoB,UAAWN,GAG1C,IACEF,EAAQC,KAAOQ,aAAaC,QAAQ,QACpCV,EAAQ/B,IAAMwC,aAAaC,QAAQ,OACnCV,EAAQF,QAAUW,aAAaC,QAAQ,WACvC,MAAOC,GACPZ,GAAmB,EAGjBP,GACFA,EAAKhC,iBAAiB,QAAS,SAAU2C,GACvCA,EAAIS,iBA/CNnB,EAAMhC,UAAUoD,IAAI,cACpBnB,EAAQjC,UAAUoD,IAAI,cAElBb,EAAQC,MACVJ,EAAStB,MAAQyB,EAAQC,KACzBhC,EAAIa,SAEJe,EAASf,QAGPkB,EAAQ/B,KACVA,EAAIM,MAAQyB,EAAQ/B,IACpB6B,EAAQhB,SAERb,EAAIa,QAGFkB,EAAQF,QACVA,EAAQvB,MAAQyB,EAAQF,QAExBD,EAASf,QAGXzB,SAASG,iBAAiB,UAAW0C,KA6BnCP,GACFA,EAAMnC,iBAAiB,QAAS,SAAU2C,GACxCA,EAAIS,iBACJP,MAIAT,GACFA,EAAKpC,iBAAiB,SAAU,SAAU2C,GACnCN,EAAStB,OAAUN,EAAIM,MAGtBwB,IACFU,aAAaK,QAAQ,OAAQjB,EAAStB,OACtCkC,aAAaK,QAAQ,MAAO7C,EAAIM,OAChCkC,aAAaK,QAAQ,UAAWhB,EAAQvB,QAL1C4B,EAAIS,mBAWNlB,GACFA,EAAQlC,iBAAiB,QAAS,SAAU2C,GAC1CA,EAAIS,iBACAlB,EAAQjC,UAAUsD,SAAS,eAC7BV,MAlHR,GCAA,WAEE,IAAIW,EAAgB3D,SAASa,cAAc,gBAUvC8C,GACFA,EAAcxD,iBAAiB,QALjC,WACEyD,OAAOC,SAASC,KAAO,gBAT3B","file":"main.min.js","sourcesContent":["'use strict';\n\n(function () {\n\n  var accordion = document.querySelectorAll('.accordion');\n  var i;\n\n  if (accordion) {\n    for (i = 0; i < accordion.length; i++) {\n      accordion[i].addEventListener('click', function () {\n        accordion[i].classList.toggle('active');\n        var panel = accordion[i].nextElementSibling;\n        if (panel.style.maxHeight) {\n          panel.style.maxHeight = null;\n        } else {\n          panel.style.maxHeight = panel.scrollHeight + 'px';\n        }\n      });\n    }\n  }\n\n})();\n","'use strict';\n\n(function () {\n\n  var MATRIX = '+7 (___) ___ ____';\n\n  var tel = document.querySelector('#tel');\n\n  /**\n   * Функция добавляет маску ввода номера телефона.\n   * @function\n   * @param {Object} event объект события;\n   */\n  function mask(event) {\n    var i = 0;\n    var def = MATRIX.replace(/\\D/g, '');\n    var val = tel.value.replace(/\\D/g, '');\n\n    if (def.length >= val.length) {\n      val = def;\n    }\n    tel.value = MATRIX.replace(/./g, function (a) {\n      if (/[_\\d]/.test(a) && i < val.length) {\n        return val.charAt(i++);\n      } else {\n        return i >= val.length ? '' : a;\n      }\n    });\n    if (event.type === 'blur') {\n      if (tel.value.length === 2) {\n        tel.value = '';\n      }\n    } else {\n      setCursorPosition(tel.value.length, tel);\n    }\n  }\n\n  /**\n   * Функция устанавливает позицию курсора.\n   * @function\n   * @param {number} pos Индекс первого выделенного символа;\n   * @param {number} elem Индекс символа после последнего выделенного символа;\n   */\n  function setCursorPosition(pos, elem) {\n    elem.focus();\n    if (elem.setSelectionRange) {\n      elem.setSelectionRange(pos, pos);\n    } else if (elem.createTextRange) {\n      var range = elem.createTextRange();\n      range.collapse(true);\n      range.moveEnd('character', pos);\n      range.moveStart('character', pos);\n      range.select();\n    }\n  }\n\n  if (tel) {\n    tel.addEventListener('input', mask, false);\n  }\n\n})();\n","'use strict';\n\n(function () {\n  var ESC_KEYCODE = 27;\n\n  var link = document.querySelector('.header__btn--request-a-call');\n\n  var popup = document.querySelector('.modal');\n  var overlay = document.querySelector('.modal-overlay');\n  var close = popup.querySelector('.modal__close');\n\n  var form = popup.querySelector('form');\n  var userName = popup.querySelector('[name=name]');\n  var tel = popup.querySelector('[name=tel]');\n  var message = popup.querySelector('[name=question]');\n\n  var isStorageSupport = true;\n  var storage = {\n    name: '',\n    tel: '',\n    message: ''\n  };\n\n  /**\n   * Функция для закрытия окна формы по нажатии клавиши Esc.\n   * @function\n   * @param {Object} evt объект события;\n   */\n  function onEscPress(evt) {\n    if (evt.keyCode === ESC_KEYCODE) {\n      closeModal();\n    }\n  }\n\n  /**\n   * Функция открытия окна формы.\n   * @function\n   */\n  function openModal() {\n    popup.classList.add('modal-show');\n    overlay.classList.add('modal-show');\n\n    if (storage.name) {\n      userName.value = storage.name;\n      tel.focus();\n    } else {\n      userName.focus();\n    }\n\n    if (storage.tel) {\n      tel.value = storage.tel;\n      message.focus();\n    } else {\n      tel.focus();\n    }\n\n    if (storage.message) {\n      message.value = storage.message;\n    } else {\n      userName.focus();\n    }\n\n    document.addEventListener('keydown', onEscPress);\n  }\n\n  /**\n   * Функция закрытия окна формы.\n   * @function\n   */\n  function closeModal() {\n    form.reset();\n    popup.classList.remove('modal-show');\n    overlay.classList.remove('modal-show');\n    document.removeEventListener('keydown', onEscPress);\n  }\n\n  try {\n    storage.name = localStorage.getItem('name');\n    storage.tel = localStorage.getItem('tel');\n    storage.message = localStorage.getItem('message');\n  } catch (err) {\n    isStorageSupport = false;\n  }\n\n  if (link) {\n    link.addEventListener('click', function (evt) {\n      evt.preventDefault();\n      openModal();\n    });\n  }\n\n  if (close) {\n    close.addEventListener('click', function (evt) {\n      evt.preventDefault();\n      closeModal();\n    });\n  }\n\n  if (form) {\n    form.addEventListener('submit', function (evt) {\n      if (!userName.value || !tel.value) {\n        evt.preventDefault();\n      } else {\n        if (isStorageSupport) {\n          localStorage.setItem('name', userName.value);\n          localStorage.setItem('tel', tel.value);\n          localStorage.setItem('message', message.value);\n        }\n      }\n    });\n  }\n\n  if (overlay) {\n    overlay.addEventListener('click', function (evt) {\n      evt.preventDefault();\n      if (overlay.classList.contains('modal-show')) {\n        closeModal();\n      }\n    });\n  }\n\n})();\n","'use strict';\n\n(function () {\n\n  var btnScrollDown = document.querySelector('#scroll_down');\n\n  /**\n   * Функция для перехода к разделу преимущществ.\n   * @function\n   */\n  function scrollDown() {\n    window.location.href = '#advantages';\n  }\n\n  if (btnScrollDown) {\n    btnScrollDown.addEventListener('click', scrollDown);\n  }\n\n})();\n"]}