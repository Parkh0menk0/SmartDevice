{"version":3,"sources":["accordion.js","inputMask.js","inputMaskPopup.js","popup.js","scroll.js"],"names":["i","accordion","document","querySelectorAll","length","addEventListener","this","classList","toggle","panel","nextElementSibling","style","maxHeight","scrollHeight","tel","querySelector","event","MATRIX","def","replace","val","value","a","test","charAt","type","pos","elem","focus","setSelectionRange","createTextRange","range","collapse","moveEnd","moveStart","select","setCursorPosition","modalTel","ESC_KEYCODE","link","popup","overlay","close","form","userName","message","isStorageSupport","storage","name","onEscPress","evt","keyCode","closeModal","reset","remove","removeEventListener","localStorage","getItem","err","preventDefault","add","setItem","contains","btnScrollDown","window","location","href"],"mappings":"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","file":"main.min.js","sourcesContent":["'use strict';\n\n(function () {\n  var accordion = document.querySelectorAll('.accordion');\n  var i;\n\n  if (accordion) {\n    for (i = 0; i < accordion.length; i++) {\n      accordion[i].addEventListener('click', function () {\n        this.classList.toggle('active');\n        var panel = this.nextElementSibling;\n        if (panel.style.maxHeight) {\n          panel.style.maxHeight = null;\n        } else {\n          panel.style.maxHeight = panel.scrollHeight + 'px';\n        }\n      });\n    }\n  }\n})();\n","'use strict';\n\n(function () {\n  var tel = document.querySelector('#tel');\n\n  /**\n   * Функция добавляет маску ввода номера телефона.\n   * @function\n   * @param {Object} event объект события;\n   */\n  function mask(event) {\n    var MATRIX = '+7 (___) ___ ____';\n    var i = 0;\n    var def = MATRIX.replace(/\\D/g, '');\n    var val = tel.value.replace(/\\D/g, '');\n    if (def.length >= val.length) {\n      val = def;\n    }\n    this.value = MATRIX.replace(/./g, function (a) {\n      if (/[_\\d]/.test(a) && i < val.length) {\n        return val.charAt(i++);\n      } else {\n        return i >= val.length ? '' : a;\n      }\n    });\n    if (event.type === 'blur') {\n      if (this.value.length === 2) {\n        this.value = '';\n      }\n    } else {\n      setCursorPosition(this.value.length, this);\n    }\n  }\n\n  /**\n   * Функция устанавливает позицию курсора.\n   * @function\n   * @param {number} pos Индекс первого выделенного символа;\n   * @param {number} elem Индекс символа после последнего выделенного символа;\n   */\n  function setCursorPosition(pos, elem) {\n    elem.focus();\n    if (elem.setSelectionRange) {\n      elem.setSelectionRange(pos, pos);\n    } else if (elem.createTextRange) {\n      var range = elem.createTextRange();\n      range.collapse(true);\n      range.moveEnd('character', pos);\n      range.moveStart('character', pos);\n      range.select();\n    }\n  }\n\n  if (tel) {\n    tel.addEventListener('input', mask, false);\n  }\n})();\n","'use strict';\n\n(function () {\n  var modalTel = document.querySelector('#modal-tel');\n\n  /**\n   * Функция добавляет маску ввода номера телефона.\n   * @function\n   * @param {Object} event объект события;\n   */\n  function mask(event) {\n    var MATRIX = '+7 (___) ___ ____';\n    var i = 0;\n    var def = MATRIX.replace(/\\D/g, '');\n    var val = modalTel.value.replace(/\\D/g, '');\n    if (def.length >= val.length) {\n      val = def;\n    }\n    this.value = MATRIX.replace(/./g, function (a) {\n      if (/[_\\d]/.test(a) && i < val.length) {\n        return val.charAt(i++);\n      } else {\n        return i >= val.length ? '' : a;\n      }\n    });\n    if (event.type === 'blur') {\n      if (this.value.length === 2) {\n        this.value = '';\n      }\n    } else {\n      setCursorPosition(this.value.length, this);\n    }\n  }\n\n  /**\n   * Функция устанавливает позицию курсора.\n   * @function\n   * @param {number} pos Индекс первого выделенного символа;\n   * @param {number} elem Индекс символа после последнего выделенного символа;\n   */\n  function setCursorPosition(pos, elem) {\n    elem.focus();\n    if (elem.setSelectionRange) {\n      elem.setSelectionRange(pos, pos);\n    } else if (elem.createTextRange) {\n      var range = elem.createTextRange();\n      range.collapse(true);\n      range.moveEnd('character', pos);\n      range.moveStart('character', pos);\n      range.select();\n    }\n  }\n\n  if (modalTel) {\n    modalTel.addEventListener('input', mask, false);\n  }\n})();\n","'use strict';\n\n(function () {\n  var ESC_KEYCODE = 27;\n\n  var link = document.querySelector('.header__btn--request-a-call');\n\n  var popup = document.querySelector('.modal');\n  var overlay = document.querySelector('.modal-overlay');\n  var close = popup.querySelector('.modal__close');\n\n  var form = popup.querySelector('form');\n  var userName = popup.querySelector('[name=name]');\n  var tel = popup.querySelector('[name=tel]');\n  var message = popup.querySelector('[name=question]');\n\n  var isStorageSupport = true;\n  var storage = {\n    name: '',\n    tel: '',\n    message: ''\n  };\n\n  /**\n   * Функция для закрытия окна формы по нажатии клавиши Esc.\n   * @function\n   * @param {Object} evt объект события;\n   */\n  function onEscPress(evt) {\n    if (evt.keyCode === ESC_KEYCODE) {\n      closeModal();\n    }\n  }\n\n  /**\n   * Функция открытия окна формы.\n   * @function\n   */\n  function openModal() {\n    popup.classList.add('modal-show');\n    overlay.classList.add('modal-show');\n\n    if (storage.name) {\n      userName.value = storage.name;\n      tel.focus();\n    } else {\n      userName.focus();\n    }\n\n    if (storage.tel) {\n      tel.value = storage.tel;\n      message.focus();\n    } else {\n      tel.focus();\n    }\n\n    if (storage.message) {\n      message.value = storage.message;\n    } else {\n      userName.focus();\n    }\n\n    document.addEventListener('keydown', onEscPress);\n  }\n\n  /**\n   * Функция закрытия окна формы.\n   * @function\n   */\n  function closeModal() {\n    form.reset();\n    popup.classList.remove('modal-show');\n    overlay.classList.remove('modal-show');\n    document.removeEventListener('keydown', onEscPress);\n  }\n\n  try {\n    storage.name = localStorage.getItem('name');\n    storage.tel = localStorage.getItem('tel');\n    storage.message = localStorage.getItem('message');\n  } catch (err) {\n    isStorageSupport = false;\n  }\n\n  if (link) {\n    link.addEventListener('click', function (evt) {\n      evt.preventDefault();\n      openModal();\n    });\n  }\n\n  if (close) {\n    close.addEventListener('click', function (evt) {\n      evt.preventDefault();\n      closeModal();\n    });\n  }\n\n  if (form) {\n    form.addEventListener('submit', function (evt) {\n      if (!userName.value || !tel.value) {\n        evt.preventDefault();\n      } else {\n        if (isStorageSupport) {\n          localStorage.setItem('name', userName.value);\n          localStorage.setItem('tel', tel.value);\n          localStorage.setItem('message', message.value);\n        }\n      }\n    });\n  }\n\n  if (overlay) {\n    overlay.addEventListener('click', function (evt) {\n      evt.preventDefault();\n      if (overlay.classList.contains('modal-show')) {\n        closeModal();\n      }\n    });\n  }\n})();\n","'use strict';\n\n(function () {\n  var btnScrollDown = document.querySelector('#scroll_down');\n\n  /**\n   * Функция для перехода к разделу преимуществ.\n   * @function\n   */\n  function scrollDown() {\n    window.location.href = '#advantages';\n  }\n\n  if (btnScrollDown) {\n    btnScrollDown.addEventListener('click', scrollDown);\n  }\n})();\n"]}