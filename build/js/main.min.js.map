{"version":3,"sources":["script.js"],"names":["link","document","querySelector","overlay","close","popup","form","tel","isStorageSupport","storage","localStorage","getItem","err","add","evt","preventDefault","name","value","focus","addEventListener","remove","setItem","offsetWidth","classList","contains"],"mappings":"AAAA,aAEA,IAAIA,KAAOC,SAASC,cAAc,wBAG9BC,MAAOF,SAAGA,cAASC,UACnBE,QAAQC,SAAMH,cAAc,kBAE5BI,MAAOD,MAAMH,cAAc,iBAE3BK,KAAMF,MAAMH,cAAc,QAE1BM,KAAAA,MAAAA,cAAJ,qBACIC,IAAAA,MAAJP,cAAA,oBAEIM,kBAAA,EACFC,QAAUC,GAEVF,IACDC,QAAAC,aAAAC,QAAA,QAFC,MAAOC,GAITZ,kBAAA,EAGEG,KAAAA,iBAAkBU,QAAI,SAAtBC,GAFAA,EAAIC,iBAIJV,MAAII,UAASI,IAAA,cACXG,QAAKC,UAAQR,IAAb,cADFA,SAIEO,KAAKE,MAALT,QACDF,IAAAW,SAGHd,KAAMe,UAIJd,MAAAA,iBAAgBe,QAAO,SAAvBN,GAJFA,EAAAC,iBAOAT,MAAKa,UAAAA,OAAiB,cACpBhB,QAAKa,UAADI,OAAoBH,cACtBH,MAAIC,UAAAA,OAAJ,iBAGAV,KAAAA,iBAAgBQ,SAAI,SAApBC,GAJFE,KAKOC,OAAAV,IAAAU,MAOFE,kBACDL,aAAAO,QAAoB,OAAAL,KAAAC,QAPtBH,EAAIN,iBACFE,MAAAA,UAAaW,OAAQ,eACtBhB,MAAAiB,YAAAjB,MAAAiB,YACFjB,MAAAkB,UAAAV,IAAA,kBAQGV,OAAAA,iBAAkBiB,UAAO,SAAzBN,GACgBM,KAAhBf,EAAAA,UACDS,EAAAC,iBACFV,MAAAkB,UAAAC,SAAA,gBAGHnB,MAAAkB,UAAAH,OAAA,cACAjB,QAAAoB,UAAAH,OAAA,cAEAf,MAAAkB,UAAAH,OAAA","file":"main.min.js","sourcesContent":["'use strict';\n\nvar link = document.querySelector('.btn--request-a-call');\n\nvar popup = document.querySelector('.modal');\nvar overlay = document.querySelector('.modal-overlay');\nvar close = popup.querySelector('.modal__close');\n\nvar form = popup.querySelector('form');\nvar name = popup.querySelector('[name=modal-name]');\nvar tel = popup.querySelector('[name=modal-tel]');\n\nvar isStorageSupport = true;\nvar storage = '';\n\ntry {\n  storage = localStorage.getItem('name');\n} catch (err) {\n  isStorageSupport = false;\n}\n\nlink.addEventListener('click', function (evt) {\n  evt.preventDefault();\n  popup.classList.add('modal-show');\n  overlay.classList.add('modal-show');\n\n  if (storage) {\n    name.value = storage;\n    tel.focus();\n  } else {\n    name.focus();\n  }\n});\n\nclose.addEventListener('click', function (evt) {\n  evt.preventDefault();\n  popup.classList.remove('modal-show');\n  overlay.classList.remove('modal-show');\n  popup.classList.remove('modal-error');\n});\n\nform.addEventListener('submit', function (evt) {\n  if (!name.value || !tel.value) {\n    evt.preventDefault();\n    popup.classList.remove('modal-error');\n    popup.offsetWidth = popup.offsetWidth;\n    popup.classList.add('modal-error');\n  } else {\n    if (isStorageSupport) {\n      localStorage.setItem('name', name.value);\n    }\n  }\n});\n\nwindow.addEventListener('keydown', function (evt) {\n  if (evt.keyCode === 27) {\n    evt.preventDefault();\n    if (popup.classList.contains('modal-show')) {\n      popup.classList.remove('modal-show');\n      overlay.classList.remove('modal-show');\n      popup.classList.remove('modal-error');\n    }\n  }\n});\n\n// var pageHeader = document.querySelector('.page-header');\n// var headerToggle = document.querySelector('.page-header__toggle');\n\n// pageHeader.classList.remove('page-header--nojs');\n\n// headerToggle.addEventListener('click', function () {\n//   if (pageHeader.classList.contains('page-header--closed')) {\n//     pageHeader.classList.remove('page-header--closed');\n//     pageHeader.classList.add('page-header--opened');\n//   } else {\n//     pageHeader.classList.add('page-header--closed');\n//     pageHeader.classList.remove('page-header--opened');\n//   }\n// });\n"]}