{"version":3,"sources":["accordion.js","inputMask.js","popup.js","scroll.js"],"names":["i","accordion","document","querySelectorAll","length","addEventListener","this","classList","toggle","panel","nextElementSibling","style","maxHeight","scrollHeight","tel","querySelector","event","matrix","def","replace","val","value","a","test","charAt","type","pos","elem","focus","setSelectionRange","createTextRange","range","collapse","moveEnd","moveStart","select","setCursorPosition","ESC_KEYCODE","link","popup","overlay","close","form","userName","message","isStorageSupport","storage","name","onEscPress","evt","keyCode","closeModal","reset","remove","removeEventListener","localStorage","getItem","err","preventDefault","add","setItem","contains","btnScrollDown","window","location","href"],"mappings":"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","file":"main.min.js","sourcesContent":["'use strict';\n\n;(function () {\n\n  var accordion = document.querySelectorAll(\".accordion\");\n  var i;\n\n  if (accordion) {\n    for (i = 0; i < accordion.length; i++) {\n      accordion[i].addEventListener(\"click\", function () {\n        this.classList.toggle(\"active\");\n        var panel = this.nextElementSibling;\n        if (panel.style.maxHeight) {\n          panel.style.maxHeight = null;\n        } else {\n          panel.style.maxHeight = panel.scrollHeight + \"px\";\n        }\n      });\n    }\n  }\n\n})();\n","'use strict';\n\n;(function () {\n\n  var tel = document.querySelector('#tel');\n\n  /**\n   * Функция добавляет маску ввода номера телефона.\n   * @function\n   * @param {Object} evt объект события;\n   */\n  function mask(event) {\n    var matrix = \"+7 (___) ___ ____\",\n      i = 0,\n      def = matrix.replace(/\\D/g, \"\"),\n      val = this.value.replace(/\\D/g, \"\");\n    if (def.length >= val.length) val = def;\n    this.value = matrix.replace(/./g, function (a) {\n      return /[_\\d]/.test(a) && i < val.length ? val.charAt(i++) : i >= val.length ? \"\" : a\n    });\n    if (event.type == \"blur\") {\n      if (this.value.length == 2) this.value = \"\"\n    } else setCursorPosition(this.value.length, this)\n  };\n\n  /**\n   * Функция устанавливает позицию курсора.\n   * @function\n   * @param {number} pos Индекс первого выделенного символа;\n   * @param {number} elem Индекс символа после последнего выделенного символа;\n   */\n  function setCursorPosition(pos, elem) {\n    elem.focus();\n    if (elem.setSelectionRange) elem.setSelectionRange(pos, pos);\n    else if (elem.createTextRange) {\n      var range = elem.createTextRange();\n      range.collapse(true);\n      range.moveEnd(\"character\", pos);\n      range.moveStart(\"character\", pos);\n      range.select()\n    }\n  }\n\n  if (tel) {\n    tel.addEventListener(\"input\", mask, false);\n  }\n\n})();\n","'use strict';\n\n;(function () {\n  var ESC_KEYCODE = 27;\n\n  var link = document.querySelector('.header__btn--request-a-call');\n\n  var popup = document.querySelector('.modal');\n  var overlay = document.querySelector('.modal-overlay');\n  var close = popup.querySelector('.modal__close');\n\n  var form = popup.querySelector('form');\n  var userName = popup.querySelector('[name=name]');\n  var tel = popup.querySelector('[name=tel]');\n  var message = popup.querySelector('[name=question]');\n\n  var isStorageSupport = true;\n  var storage = {\n    name: '',\n    tel: '',\n    message: ''\n  };\n\n  /**\n   * Функция для закрытия окна формы по нажатии клавиши Esc.\n   * @function\n   * @param {Object} evt объект события;\n   */\n  function onEscPress(evt) {\n    if (evt.keyCode === ESC_KEYCODE) {\n      closeModal();\n    }\n  }\n\n  /**\n   * Функция открытия окна формы.\n   * @function\n   */\n  function openModal() {\n    popup.classList.add('modal-show');\n    overlay.classList.add('modal-show');\n\n    if (storage.name) {\n      userName.value = storage.name;\n      tel.focus();\n    } else {\n      userName.focus();\n    }\n\n    if (storage.tel) {\n      tel.value = storage.tel;\n      message.focus();\n    } else {\n      tel.focus();\n    }\n\n    if (storage.message) {\n      message.value = storage.message;\n    } else {\n      userName.focus();\n    }\n\n    document.addEventListener('keydown', onEscPress);\n  }\n\n  /**\n   * Функция закрытия окна формы.\n   * @function\n   */\n  function closeModal() {\n    form.reset();\n    popup.classList.remove('modal-show');\n    overlay.classList.remove('modal-show');\n    document.removeEventListener('keydown', onEscPress);\n  }\n\n  try {\n    storage.name = localStorage.getItem('name');\n    storage.tel = localStorage.getItem('tel');\n    storage.message = localStorage.getItem('message');\n  } catch (err) {\n    isStorageSupport = false;\n  }\n\n  if (link) {\n    link.addEventListener('click', function (evt) {\n      evt.preventDefault();\n      openModal();\n    });\n  }\n\n  if (close) {\n    close.addEventListener('click', function (evt) {\n      evt.preventDefault();\n      closeModal();\n    });\n  }\n\n  if (form) {\n    form.addEventListener('submit', function (evt) {\n      if (!userName.value || !tel.value) {\n        evt.preventDefault();\n      } else {\n        if (isStorageSupport) {\n          localStorage.setItem('name', userName.value);\n          localStorage.setItem('tel', tel.value);\n          localStorage.setItem('message', message.value);\n        }\n      }\n    });\n  }\n\n  if (overlay) {\n    overlay.addEventListener('click', function (evt) {\n      evt.preventDefault();\n      if (overlay.classList.contains('modal-show')) {\n        closeModal();\n      }\n    });\n  }\n\n})();\n","'use strict';\n\n;(function () {\n\n  var btnScrollDown = document.querySelector('#scroll_down');\n\n  /**\n   * Функция для перехода к разделу преимущществ.\n   * @function\n   */\n  function scrollDown() {\n    window.location.href = \"#advantages\";\n  }\n\n  if (btnScrollDown) {\n    btnScrollDown.addEventListener('click', scrollDown);\n  }\n\n})();\n"]}